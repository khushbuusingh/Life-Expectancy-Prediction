<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Predict MyLife</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@700&display=swap" rel="stylesheet">
    <link href="style.css" rel="stylesheet">
    <style>
        /* To hide forms initially */
        .hidden {
            display: none;
        }

        body {
            font-family: 'Roboto', sans-serif; /* Applying the custom font */
        }

        /* Custom styles for hover effect on nav links */
        .nav-link {
            transition: color 0.3s ease;
        }

        .nav-link:hover {
            color: #3b82f6; /* Blue color on hover */
        }
    </style>
</head>

<body class="bg-gradient-to-r from-gray-700 to-black text-white">
    <header class="p-6">
        <nav class="flex justify-between">
            <div class="text-2xl font-bold">Predict MyLife</div>
            <ul class="flex space-x-6">
                <li><a href="{{ url_for('index') }}" class="nav-link hover:underline">Home</a></li>
                <li><a href="{{ url_for('index') }}" class="nav-link hover:underline">Features</a></li>
                <li><a href="{{ url_for('blogs') }}" class="nav-link hover:underline">Blogs</a></li>
                <li><a href="{{ url_for('faq') }}" class="nav-link hover:underline">FAQs</a></li>
                <li><a href="{{ url_for('contactus') }}" class="nav-link hover:underline">Contact Us</a></li>
            </ul>
        </nav>
    </header>

    <main class="flex-grow flex items-center justify-center p-6">
        <div id="formContainer" class="w-full max-w-lg bg-gray-800 p-8 rounded-lg shadow-lg">
            <form action="{{ url_for('predict') }}" method="POST">
                <!-- Initial User Information Form -->
                <div id="userInfoForm">
                    <h2 class="text-3xl font-bold text-center mb-6">Get Started</h2>
                    <div class="flex space-x-2"><input type="text" id="nameInput" name="name" placeholder="Your Name" required class="p-2 w-full rounded bg-gray-700 border border-gray-600 focus:outline-none focus:border-blue-500"></div>
                    <br>
                    <div class="flex space-x-2"><input type="number" id="ageInput" name="age" placeholder="Your Age" required class="p-2 w-full rounded bg-gray-700 border border-gray-600 focus:outline-none focus:border-blue-500"></div>
                    <br>
                    <div class="flex space-x-2">
                    <input type="tel" id="phoneInput" name="phone" placeholder="Your Phone Number" required class="p-2 w-full rounded bg-gray-700 border border-gray-600 focus:outline-none focus:border-blue-500">
                    </div>
                    <br>
                    <div class="flex space-x-2"><input type="email" id="emailInput" name="email" placeholder="Your Email" required class="p-2 w-full rounded bg-gray-700 border border-gray-600 focus:outline-none focus:border-blue-500"></div>
                    <br>
                    <div class="flex space-x-2">
                    <select id="genderInput" name="gender" required class="p-2 w-full rounded bg-gray-700 border border-gray-600 focus:outline-none focus:border-blue-500">
                        <option value="">Select Gender</option>
                        <option value="Male">Male</option>
                        <option value="Female">Female</option>
                        <option value="Other">Other</option>
                    </select></div>

                    <br>
                    <div class="flex space-x-2">
                    <select id="countryInput" name="country" required class="p-2 w-full rounded bg-gray-700 border border-gray-600 focus:outline-none focus:border-blue-500">
                        <option value="">Select Your Country</option>
                        <option value="Afghanistan">Afghanistan</option>
                        <option value="Albania">Albania</option>
                        <option value="Algeria">Algeria</option>
                        <option value="Andorra">Andorra</option>
                        <option value="Angola">Angola</option>
                        <option value="Antigua and Barbuda">Antigua and Barbuda</option>
                        <option value="Argentina">Argentina</option>
                        <option value="Armenia">Armenia</option>
                        <option value="Australia">Australia</option>
                        <option value="Austria">Austria</option>
                        <option value="Azerbaijan">Azerbaijan</option>
                        <option value="Bahamas (The)">Bahamas (The)</option>
                        <option value="Bahrain">Bahrain</option>
                        <option value="Bangladesh">Bangladesh</option>
                        <option value="Barbados">Barbados</option>
                        <option value="Belarus">Belarus</option>
                        <option value="Belgium">Belgium</option>
                        <option value="Belize">Belize</option>
                        <option value="Benin">Benin</option>
                        <option value="Bermuda">Bermuda</option>
                        <option value="Bhutan">Bhutan</option>
                        <option value="Bolivia">Bolivia</option>
                        <option value="Bosnia and Herzegovina">Bosnia and Herzegovina</option>
                        <option value="Botswana">Botswana</option>
                        <option value="Brazil">Brazil</option>
                        <option value="British Virgin Islands">British Virgin Islands</option>
                        <option value="Brunei Darussalam">Brunei Darussalam</option>
                        <option value="Bulgaria">Bulgaria</option>
                        <option value="Burkina Faso">Burkina Faso</option>
                        <option value="Burundi">Burundi</option>
                        <option value="Cabo Verde">Cabo Verde</option>
                        <option value="Cambodia">Cambodia</option>
                        <option value="Cameroon">Cameroon</option>
                        <option value="Canada">Canada</option>
                        <option value="Central African Republic">Central African Republic</option>
                        <option value="Central Europe and the Baltics">Central Europe and the Baltics</option>
                        <option value="Chad">Chad</option>
                        <option value="Chile">Chile</option>
                        <option value="China">China</option>
                        <option value="Colombia">Colombia</option>
                        <option value="Comoros">Comoros</option>
                        <option value="Congo (Dem. Rep.)">Congo (Dem. Rep.)</option>
                        <option value="Congo (Rep.)">Congo (Rep.)</option>
                        <option value="Costa Rica">Costa Rica</option>
                        <option value="Croatia">Croatia</option>
                        <option value="Cuba">Cuba</option>
                        <option value="Cyprus">Cyprus</option>
                        <option value="Czechia">Czechia</option>
                        <option value="Denmark">Denmark</option>
                        <option value="Djibouti">Djibouti</option>
                        <option value="Dominica">Dominica</option>
                        <option value="Dominican Republic">Dominican Republic</option>
                        <option value="Ecuador">Ecuador</option>
                        <option value="Egypt (Arab Rep.)">Egypt (Arab Rep.)</option>
                        <option value="El Salvador">El Salvador</option>
                        <option value="Equatorial Guinea">Equatorial Guinea</option>
                        <option value="Eritrea">Eritrea</option>
                        <option value="Estonia">Estonia</option>
                        <option value="Eswatini">Eswatini</option>
                        <option value="Ethiopia">Ethiopia</option>
                        <option value="Fiji">Fiji</option>
                        <option value="Finland">Finland</option>
                        <option value="France">France</option>
                        <option value="French Polynesia">French Polynesia</option>
                        <option value="Gabon">Gabon</option>
                        <option value="Gambia (The)">Gambia (The)</option>
                        <option value="Georgia">Georgia</option>
                        <option value="Germany">Germany</option>
                        <option value="Ghana">Ghana</option>
                        <option value="Greece">Greece</option>
                        <option value="Greenland">Greenland</option>
                        <option value="Grenada">Grenada</option>
                        <option value="Guam">Guam</option>
                        <option value="Guatemala">Guatemala</option>
                        <option value="Guinea">Guinea</option>
                        <option value="Guinea-Bissau">Guinea-Bissau</option>
                        <option value="Guyana">Guyana</option>
                        <option value="Haiti">Haiti</option>
                        <option value="Honduras">Honduras</option>
                        <option value="Hungary">Hungary</option>
                        <option value="Iceland">Iceland</option>
                        <option value="India">India</option>
                        <option value="Indonesia">Indonesia</option>
                        <option value="Iran (Islamic Rep.)">Iran (Islamic Rep.)</option>
                        <option value="Iraq">Iraq</option>
                        <option value="Ireland">Ireland</option>
                        <option value="Israel">Israel</option>
                        <option value="Italy">Italy</option>
                        <option value="Jamaica">Jamaica</option>
                        <option value="Japan">Japan</option>
                        <option value="Jordan">Jordan</option>
                        <option value="Kazakhstan">Kazakhstan</option>
                        <option value="Kenya">Kenya</option>
                        <option value="Kiribati">Kiribati</option>
                        <option value="Korea (Rep.)">Korea (Rep.)</option>
                        <option value="Kuwait">Kuwait</option>
                        <option value="Kyrgyz Republic">Kyrgyz Republic</option>
                        <option value="Lao PDR">Lao PDR</option>
                        <option value="Latvia">Latvia</option>
                        <option value="Lebanon">Lebanon</option>
                        <option value="Lesotho">Lesotho</option>
                        <option value="Liberia">Liberia</option>
                        <option value="Libya">Libya</option>
                        <option value="Lithuania">Lithuania</option>
                        <option value="Luxembourg">Luxembourg</option>
                        <option value="Madagascar">Madagascar</option>
                        <option value="Malawi">Malawi</option>
                        <option value="Malaysia">Malaysia</option>
                        <option value="Maldives">Maldives</option>
                        <option value="Mali">Mali</option>
                        <option value="Malta">Malta</option>
                        <option value="Marshall Islands">Marshall Islands</option>
                        <option value="Mauritania">Mauritania</option>
                        <option value="Mauritius">Mauritius</option>
                        <option value="Mexico">Mexico</option>
                        <option value="Micronesia (Fed. Sts.)">Micronesia (Fed. Sts.)</option>
                        <option value="Moldova">Moldova</option>
                        <option value="Monaco">Monaco</option>
                        <option value="Mongolia">Mongolia</option>
                        <option value="Montenegro">Montenegro</option>
                        <option value="Morocco">Morocco</option>
                        <option value="Mozambique">Mozambique</option>
                        <option value="Myanmar">Myanmar</option>
                        <option value="Namibia">Namibia</option>
                        <option value="Nauru">Nauru</option>
                        <option value="Nepal">Nepal</option>
                        <option value="Netherlands">Netherlands</option>
                        <option value="New Zealand">New Zealand</option>
                        <option value="Nicaragua">Nicaragua</option>
                        <option value="Niger">Niger</option>
                        <option value="Nigeria">Nigeria</option>
                        <option value="North Macedonia">North Macedonia</option>
                        <option value="Norway">Norway</option>
                        <option value="Oman">Oman</option>
                        <option value="Pakistan">Pakistan</option>
                        <option value="Palau">Palau</option>
                        <option value="Panama">Panama</option>
                        <option value="Papua New Guinea">Papua New Guinea</option>
                        <option value="Paraguay">Paraguay</option>
                        <option value="Peru">Peru</option>
                        <option value="Philippines">Philippines</option>
                        <option value="Poland">Poland</option>
                        <option value="Portugal">Portugal</option>
                        <option value="Puerto Rico">Puerto Rico</option>
                        <option value="Qatar">Qatar</option>
                        <option value="Romania">Romania</option>
                        <option value="Rwanda">Rwanda</option>
                        <option value="Samoa">Samoa</option>
                        <option value="San Marino">San Marino</option>
                        <option value="Sao Tome and Principe">Sao Tome and Principe</option>
                        <option value="Saudi Arabia">Saudi Arabia</option>
                        <option value="Senegal">Senegal</option>
                        <option value="Serbia">Serbia</option>
                        <option value="Seychelles">Seychelles</option>
                        <option value="Sierra Leone">Sierra Leone</option>
                        <option value="Singapore">Singapore</option>
                        <option value="Slovak Republic">Slovak Republic</option>
                        <option value="Slovenia">Slovenia</option>
                        <option value="Solomon Islands">Solomon Islands</option>
                        <option value="Somalia">Somalia</option>
                        <option value="South Africa">South Africa</option>
                        <option value="South Sudan">South Sudan</option>
                        <option value="Spain">Spain</option>
                        <option value="Sri Lanka">Sri Lanka</option>
                        <option value="St. Kitts and Nevis">St. Kitts and Nevis</option>
                        <option value="St. Lucia">St. Lucia</option>
                        <option value="St. Vincent and the Grenadines">St. Vincent and the Grenadines</option>
                        <option value="Sudan">Sudan</option>
                        <option value="Suriname">Suriname</option>
                        <option value="Sweden">Sweden</option>
                        <option value="Switzerland">Switzerland</option>
                        <option value="Syrian Arab Republic">Syrian Arab Republic</option>
                        <option value="Tajikistan">Tajikistan</option>
                        <option value="Tanzania">Tanzania</option>
                        <option value="Thailand">Thailand</option>
                        <option value="Timor-Leste">Timor-Leste</option>
                        <option value="Togo">Togo</option>
                        <option value="Tonga">Tonga</option>
                        <option value="Trinidad and Tobago">Trinidad and Tobago</option>
                        <option value="Tunisia">Tunisia</option>
                        <option value="Turkiye">Turkiye</option>
                        <option value="Turkmenistan">Turkmenistan</option>
                        <option value="Tuvalu">Tuvalu</option>
                        <option value="Uganda">Uganda</option>
                        <option value="Ukraine">Ukraine</option>
                        <option value="United Arab Emirates">United Arab Emirates</option>
                        <option value="United Kingdom">United Kingdom</option>
                        <option value="United States">United States</option>
                        <option value="Uruguay">Uruguay</option>
                        <option value="Uzbekistan">Uzbekistan</option>
                        <option value="Vanuatu">Vanuatu</option>
                        <option value="Venezuela (RB)">Venezuela (RB)</option>
                        <option value="Viet Nam">Viet Nam</option>
                        <option value="West Bank and Gaza">West Bank and Gaza</option>
                        <option value="Yemen (Rep.)">Yemen (Rep.)</option>
                        <option value="Zambia">Zambia</option>
                        <option value="Zimbabwe">Zimbabwe</option>
                    </select></div>
                    <br>
                    <button type="button" id="nextBtn" class="w-full bg-blue-600 py-2 rounded hover:bg-blue-700 transition duration-200">Next</button>
                </div>

                <!-- Lifestyle Questions Form -->
                <div id="lifestyleForm" class="hidden">
                    <h2 class="text-3xl font-bold text-center mb-6">Lifestyle Questions</h2>
                    <div><label class="block text-lg">Do you smoke?</label>
                    <select name="smoking" required class="p-2 w-full rounded bg-gray-700 border border-gray-600 focus:outline-none focus:border-blue-500">
                        <option value="">Select...</option>
                        <option value="yes">Yes</option>
                        <option value="no">No</option>
                    </select></div> <br>

                    <div><label class="block text-lg">Do you drink?</label>
                    <select name="drinking" required class="p-2 w-full rounded bg-gray-700 border border-gray-600 focus:outline-none focus:border-blue-500">
                        <option value="">Select...</option>
                        <option value="yes">Yes</option>
                        <option value="no">No</option>
                    </select></div><br>

                    <div><label class="block text-lg">Do you have HIV?</label>
                    <select name="hiv_status" required class="p-2 w-full rounded bg-gray-700 border border-gray-600 focus:outline-none focus:border-blue-500">
                        <option value="">Select...</option>
                        <option value="yes">Yes</option>
                        <option value="no">No</option>
                    </select></div><br>

                    <div><label class="block text-lg">Have you been vaccinated with DTP3?</label>
                    <select name="dtp3" required class="p-2 w-full rounded bg-gray-700 border border-gray-600 focus:outline-none focus:border-blue-500">
                        <option value="">Select...</option>
                        <option value="yes">Yes</option>
                        <option value="no">No</option>
                    </select></div> <br>

                    <div><label class="block text-lg">Have you been vaccinated with MCV2?</label>
                    <select name="mcv2" required class="p-2 w-full rounded bg-gray-700 border border-gray-600 focus:outline-none focus:border-blue-500">
                        <option value="">Select...</option>
                        <option value="yes">Yes</option>
                        <option value="no">No</option>
                    </select></div> <br>

                    <div><label class="block text-lg">Do you live in an urban or rural area?</label>
                    <select name="urban_rural" required class="p-2 w-full rounded bg-gray-700 border border-gray-600 focus:outline-none focus:border-blue-500">
                        <option value="">Select...</option>
                        <option value="urban">Urban</option>
                        <option value="rural">Rural</option>
                    </select></div> <br>

                    <div>
                        <label class="block text-lg">Do you have access to electricity?</label>
                        <select name="electricity" required class="p-2 w-full rounded bg-gray-700 border border-gray-600 focus:outline-none focus:border-blue-500">
                            <option value="">Select...</option>
                            <option value="yes">Yes</option>
                            <option value="no">No</option>
                        </select>
                    </div> <br>
                    <div>
                        <label class="block text-lg">Are you currently employed ?</label>
                        <select name="employment_status" required class="p-2 w-full rounded bg-gray-700 border border-gray-600 focus:outline-none focus:border-blue-500">
                            <option value="">Select...</option>
                            <option value="yes">Yes</option>
                            <option value="no">No</option>
                        </select>
                    </div>
                    <br>
                    <div><input type="number" id="heightInput" name="height" placeholder="Your Height (cm)" required class="p-2 w-full rounded bg-gray-700 border border-gray-600 focus:outline-none focus:border-blue-500"></div>
                    <div></div><input type="number" id="weightInput" name="weight" placeholder="Your Weight (kg)" required class="p-2 w-full rounded bg-gray-700 border border-gray-600 focus:outline-none focus:border-blue-500"></div>


                    <div id="bmiResult" class="text-lg text-center mt-4 hidden"></div>

                    <div id="finalButtons" class="hidden flex space-x-4 mt-6">
                        <button type="button" id="prevBtn" class="w-full bg-gray-600 py-2 rounded hover:bg-gray-700 transition duration-200">Previous</button>
                        <button type="submit" id="submitBtn" class="w-full bg-blue-600 py-2 rounded hover:bg-blue-700 transition duration-200">Submit</button>
                    </div> 
                </div>
            </form>
        </div>
    </main>

    <footer class="p-6 text-center">
        <p>&copy; 2024 My Portfolio. All rights reserved.</p>
    </footer>

    <script>
        // Validation function for Phone Number, Email, and Age
        function validateUserInfo() {
            const phoneInput = document.getElementById('phoneInput');
            const emailInput = document.getElementById('emailInput');
            const ageInput = document.getElementById('ageInput');
    
            let isValid = true;
    
            // Validate phone number (10 digits)
            if (!/^\d{10}$/.test(phoneInput.value.trim())) {
                phoneInput.classList.add('border-red-500');
                isValid = false;
            } else {
                phoneInput.classList.remove('border-red-500');
            }
    
            // Validate email format
            if (!/\S+@\S+\.\S+/.test(emailInput.value.trim())) {
                emailInput.classList.add('border-red-500');
                isValid = false;
            } else {
                emailInput.classList.remove('border-red-500');
            }
    
            // Validate age (non-negative integer)
            if (ageInput.value.trim() === '' || ageInput.value < 0) {
                ageInput.classList.add('border-red-500');
                isValid = false;
            } else {
                ageInput.classList.remove('border-red-500');
            }
    
            return isValid;
        }

        // Handle "Next" button click in User Info Form
        document.getElementById('nextBtn').addEventListener('click', () => {
            if (validateUserInfo()) {
                document.getElementById('userInfoForm').classList.add('hidden');
                document.getElementById('lifestyleForm').classList.remove('hidden');
                document.getElementById('finalButtons').classList.remove('hidden');
            }
        });

        // Handle "Previous" button click in Lifestyle Questions Form
        document.getElementById('prevBtn').addEventListener('click', () => {
            document.getElementById('lifestyleForm').classList.add('hidden');
            document.getElementById('userInfoForm').classList.remove('hidden');
            document.getElementById('finalButtons').classList.add('hidden');
            bmiResult.classList.add('hidden');
        });

        // Calculate BMI and validate height/weight
        function calculateBMI() {
            const heightInput = document.getElementById('heightInput');
            const weightInput = document.getElementById('weightInput');
            const height = parseFloat(heightInput.value);
            const weight = parseFloat(weightInput.value);
            const bmiResult = document.getElementById('bmiResult');
    
            // Reset previous errors
            heightInput.classList.remove('border-red-500');
            weightInput.classList.remove('border-red-500');
    
            if (height <= 0 || weight <= 0 || isNaN(height) || isNaN(weight)) {
                if (height <= 0 || isNaN(height)) {
                    heightInput.classList.add('border-red-500');
                }
                if (weight <= 0 || isNaN(weight)) {
                    weightInput.classList.add('border-red-500');
                }
                bmiResult.classList.add('hidden');
            } else {
                const bmi = (weight / ((height / 100) ** 2)).toFixed(2);
                bmiResult.textContent = `Your BMI is: ${bmi}`;
                bmiResult.classList.remove('hidden');
                bmiInput.value = bmi; 
            }
        }

        document.getElementById('heightInput').addEventListener('input', calculateBMI);
        document.getElementById('weightInput').addEventListener('input', calculateBMI);
    </script>
</body>

</html>
